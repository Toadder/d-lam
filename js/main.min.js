function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function _removeClass(e,t){for(let o of e)o.classList.remove(t)}function _addClass(e,t){for(let o of e)o.classList.add(t)}function ymap(){let e=document.querySelector(".map");function t(){if("undefined"==typeof ymaps)return;document.getElementById("ymap");ymaps.ready((function(){let e=new ymaps.Map("ymap",{center:[0,0],zoom:14,controls:["zoomControl"],behaviors:["drag"]}),t=new ymaps.Placemark([0,0],{hintContent:"name"},{iconLayout:"default#image",iconImageHref:"img/mark.png",iconImageSize:[20,20],iconImageOffset:[0,0]});e.geoObjects.add(t),window.onresize=function(){onResizeMap()}}))}function o(){let n=e.getBoundingClientRect().top,r=window.pageYOffset,i=n+r;r+window.innerHeight>i&&(!function(){let e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(e),e.onload=t}(),window.removeEventListener("scroll",o))}window.addEventListener("scroll",o),o()}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function formAddError(e){e.classList.add("_error"),e.parentElement.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error")}function emailTest(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)}$(document).ready((function(){!function(){const e=document.querySelectorAll("form");for(var t=0;t<e.length;t++)form=e[t],form.addEventListener("submit",o);async function o(e){e.preventDefault();!function(e){let t=0,o=e.querySelectorAll("._req");for(var n=0;n<o.length;n++){const e=o[n];formRemoveError(e),e.classList.contains("_email")?emailTest(e)||(formAddError(e),t++):""==e.value&&(formAddError(e),t++)}}(form)}}(),$(window).scrollTop()>$(".header").outerHeight()&&$(".header").addClass("_on-scroll"),$(window).scroll((function(e){$(window).scrollTop()>$(".header").outerHeight()?$(".header").addClass("_on-scroll"):$(".header").removeClass("_on-scroll")})),function(){new Swiper(".slider-public",{autoHeight:!0,speed:800,slidesPerView:3.3,spaceBetween:45,loop:!0,simulateTouch:!1,navigation:{nextEl:".public__next",prevEl:".public__prev"},pagination:{el:".public__progress",type:"progressbar"},breakpoints:{320:{slidesPerView:1.2,spaceBetween:27},450:{slidesPerView:1.2,spaceBetween:27},576:{slidesPerView:2,spaceBetween:35},1200:{slidesPerView:3,spaceBetween:42},1650:{slidesPerView:3.3,spaceBetween:45}},on:{init:function(e){let t=document.querySelector(".public__total"),o=e.slides.length-2*e.loopedSlides;t.innerHTML=o<10?"0"+o:o}}});const e=new Swiper(".slider-tech",{autoHeight:!0,speed:800,loop:!0,simulateTouch:!1,allowTouchMove:!1,effect:"fade",fadeEffect:{crossFade:!0}});$(".slider-tech__btn").on("click",()=>e.slideNext()),$(".slider-tech__play").on("click",()=>{document.querySelectorAll(".slider-tech__video video").forEach(e=>{e.play(),$(".slider-tech__play").addClass("_hide")})});new Swiper(".slider-info",{autoHeight:!0,speed:800,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".info__next",prevEl:".info__prev"},pagination:{el:".info__progress",type:"progressbar"},on:{init:function(e){let t=document.querySelector(".info__total"),o=e.slides.length-2*e.loopedSlides;t.innerHTML=o<10?"0"+o:o}}});const t=new Swiper(".slider-stage",{autoHeight:!0,speed:800,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".slider-stage__progress",type:"progressbar"},on:{init:function(e){document.querySelectorAll(".slider-stage__slide").forEach(e=>{let t=+e.getAttribute("data-swiper-slide-index")+1;e.querySelector(".slider-stage__number span").innerHTML=t<10?"0"+t:t});let t=e.slides.length-2*e.loopedSlides;$(".slider-stage__total").html(t<10?"0"+t:t)}}});$(".slider-stage__btn").on("click",()=>t.slideNext())}(),document.querySelectorAll("a._anchor-scroll").length&&$("a._anchor-scroll").on("click",(function(e){e.preventDefault();let t=$(this).attr("href");$("html, body").stop().animate({scrollTop:$(t).offset().top-$(".header").outerHeight()},1e3)}))}));